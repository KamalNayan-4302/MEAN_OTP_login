{"ast":null,"code":"import { environment } from '../../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/user.service\";\nimport * as i2 from \"../../services/auth.service\";\nimport * as i3 from \"@angular/router\";\nexport class ProfileViewComponent {\n  constructor(userService, authService, router) {\n    this.userService = userService;\n    this.authService = authService;\n    this.router = router;\n    this.loading = true;\n    this.error = '';\n  }\n  ngOnInit() {\n    this.loadProfile();\n  }\n  logout() {\n    this.authService.logout();\n    this.router.navigate(['/login']);\n  }\n  loadProfile() {\n    this.userService.getProfile().subscribe(response => {\n      // Patch profilePhoto to be absolute if needed\n      if (response.user && response.user.profilePhoto) {\n        if (response.user.profilePhoto.startsWith('/uploads')) {\n          // Only prepend if it's a relative path\n          const baseApiUrl = environment.apiUrl.replace(/\\/api$/, '');\n          response.user.profilePhoto = baseApiUrl + response.user.profilePhoto;\n        }\n        // If already absolute (starts with http), do nothing\n      }\n\n      this.profile = response.user;\n      console.log('Loaded profile:', this.profile);\n      this.loading = false;\n    }, error => {\n      this.error = error.message;\n      this.loading = false;\n    });\n  }\n  static {\n    this.ɵfac = function ProfileViewComponent_Factory(t) {\n      return new (t || ProfileViewComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProfileViewComponent,\n      selectors: [[\"app-profile-view\"]],\n      decls: 32,\n      vars: 4,\n      consts: [[1, \"container\"], [1, \"profile-title\"], [1, \"alert\", \"alert-success\", \"d-flex\", \"align-items-center\", \"mt-4\", 2, \"font-size\", \"1.1rem\"], [1, \"me-2\", 2, \"font-size\", \"1.5rem\"], [1, \"card\"], [1, \"profile-header\"], [\"alt\", \"Profile Photo\", 1, \"profile-photo\", 3, \"src\"], [1, \"profile-info\"], [1, \"info-item\"], [1, \"label\"], [1, \"value\"], [1, \"profile-actions\"], [\"routerLink\", \"/profile/edit\", 1, \"btn\", \"btn-primary\", \"edit-btn\"], [1, \"btn\", \"btn-primary\", \"logout-btn\", 3, \"click\"]],\n      template: function ProfileViewComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n          i0.ɵɵtext(2, \"Profile\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"div\", 2)(4, \"span\", 3);\n          i0.ɵɵtext(5, \"\\u2713\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\")(7, \"strong\");\n          i0.ɵɵtext(8, \"Credentials Verified!\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(9, \"br\");\n          i0.ɵɵtext(10, \"Welcome back! You\\u2019ve successfully logged in. \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"div\", 4)(12, \"div\", 5);\n          i0.ɵɵelement(13, \"img\", 6);\n          i0.ɵɵelementStart(14, \"h2\");\n          i0.ɵɵtext(15);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(16, \"div\", 7)(17, \"div\", 8)(18, \"span\", 9);\n          i0.ɵɵtext(19, \"Email:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"span\", 10);\n          i0.ɵɵtext(21);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(22, \"div\", 8)(23, \"span\", 9);\n          i0.ɵɵtext(24, \"Mobile:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"span\", 10);\n          i0.ɵɵtext(26);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(27, \"div\", 11)(28, \"button\", 12);\n          i0.ɵɵtext(29, \"Edit Profile\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"button\", 13);\n          i0.ɵɵlistener(\"click\", function ProfileViewComponent_Template_button_click_30_listener() {\n            return ctx.logout();\n          });\n          i0.ɵɵtext(31, \"Logout\");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"src\", (ctx.profile == null ? null : ctx.profile.profilePhoto) || \"assets/kamal.jpg\", i0.ɵɵsanitizeUrl);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.profile == null ? null : ctx.profile.name);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate(ctx.profile == null ? null : ctx.profile.email);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(ctx.profile == null ? null : ctx.profile.mobile);\n        }\n      },\n      dependencies: [i3.RouterLink],\n      styles: [\".profile-container[_ngcontent-%COMP%] {\\n  padding: 20px;\\n  background: white;\\n  border-radius: 8px;\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\n}\\n\\n.profile-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  margin-bottom: 20px;\\n}\\n\\n.profile-photo[_ngcontent-%COMP%] {\\n  width: 100px;\\n  height: 100px;\\n  border-radius: 50%;\\n  object-fit: cover;\\n  margin-right: 20px;\\n}\\n\\n.profile-info[_ngcontent-%COMP%] {\\n  flex: 1;\\n}\\n\\n.profile-actions[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n}\\n\\n.edit-btn[_ngcontent-%COMP%] {\\n  margin-right: 16px;\\n}\\n\\n.logout-btn[_ngcontent-%COMP%] {\\n  margin-left: 0;\\n}\\n\\n.delete-btn[_ngcontent-%COMP%] {\\n  color: #dc3545;\\n}\\n\\n.error[_ngcontent-%COMP%] {\\n  color: #dc3545;\\n  font-size: 0.875rem;\\n  margin-top: 0.25rem;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlci9wcm9maWxlLXZpZXcvcHJvZmlsZS12aWV3LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSx3Q0FBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLFlBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxPQUFBO0FBQ0Y7O0FBRUE7RUFDRSxnQkFBQTtBQUNGOztBQUVBO0VBQ0Usa0JBQUE7QUFDRjs7QUFFQTtFQUNFLGNBQUE7QUFDRjs7QUFFQTtFQUNFLGNBQUE7QUFDRjs7QUFFQTtFQUNFLGNBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIucHJvZmlsZS1jb250YWluZXIge1xuICBwYWRkaW5nOiAyMHB4O1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLDAsMCwwLjEpO1xufVxuXG4ucHJvZmlsZS1oZWFkZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuXG4ucHJvZmlsZS1waG90byB7XG4gIHdpZHRoOiAxMDBweDtcbiAgaGVpZ2h0OiAxMDBweDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xufVxuXG4ucHJvZmlsZS1pbmZvIHtcbiAgZmxleDogMTtcbn1cblxuLnByb2ZpbGUtYWN0aW9ucyB7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG59XG5cbi5lZGl0LWJ0biB7XG4gIG1hcmdpbi1yaWdodDogMTZweDtcbn1cblxuLmxvZ291dC1idG4ge1xuICBtYXJnaW4tbGVmdDogMDtcbn1cblxuLmRlbGV0ZS1idG4ge1xuICBjb2xvcjogI2RjMzU0NTtcbn1cblxuLmVycm9yIHtcbiAgY29sb3I6ICNkYzM1NDU7XG4gIGZvbnQtc2l6ZTogMC44NzVyZW07XG4gIG1hcmdpbi10b3A6IDAuMjVyZW07XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["environment","ProfileViewComponent","constructor","userService","authService","router","loading","error","ngOnInit","loadProfile","logout","navigate","getProfile","subscribe","response","user","profilePhoto","startsWith","baseApiUrl","apiUrl","replace","profile","console","log","message","i0","ɵɵdirectiveInject","i1","UserService","i2","AuthService","i3","Router","selectors","decls","vars","consts","template","ProfileViewComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","ProfileViewComponent_Template_button_click_30_listener","ɵɵadvance","ɵɵproperty","ɵɵsanitizeUrl","ɵɵtextInterpolate","name","email","mobile"],"sources":["E:\\MEAN__OTP\\frontend\\src\\app\\user\\profile-view\\profile-view.component.ts","E:\\MEAN__OTP\\frontend\\src\\app\\user\\profile-view\\profile-view.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../../services/user.service';\nimport { AuthService } from '../../services/auth.service';\nimport { Router } from '@angular/router';\nimport { environment } from '../../../environments/environment';\n\n@Component({\n  selector: 'app-profile-view',\n  templateUrl: './profile-view.component.html',\n  styleUrls: ['./profile-view.component.scss']\n})\nexport class ProfileViewComponent implements OnInit {\n  profile: any;\n  loading = true;\n  error = '';\n\n  constructor(private userService: UserService, private authService: AuthService, private router: Router) {}\n\n  ngOnInit() {\n    this.loadProfile();\n  }\n\n  logout() {\n    this.authService.logout();\n    this.router.navigate(['/login']);\n  }\n\n  loadProfile() {\n    this.userService.getProfile()\n      .subscribe(\n        (response) => {\n          // Patch profilePhoto to be absolute if needed\n          if (response.user && response.user.profilePhoto) {\n            if (response.user.profilePhoto.startsWith('/uploads')) {\n              // Only prepend if it's a relative path\n              const baseApiUrl = environment.apiUrl.replace(/\\/api$/, '');\n              response.user.profilePhoto = baseApiUrl + response.user.profilePhoto;\n            }\n            // If already absolute (starts with http), do nothing\n          }\n          this.profile = response.user;\n          console.log('Loaded profile:', this.profile);\n          this.loading = false;\n        },\n        (error) => {\n          this.error = error.message;\n          this.loading = false;\n        }\n      );\n  }\n}\n","<div class=\"container\">\n  <h1 class=\"profile-title\">Profile</h1>\n  <div class=\"alert alert-success d-flex align-items-center mt-4\" style=\"font-size:1.1rem;\">\n    <span class=\"me-2\" style=\"font-size:1.5rem;\">&#10003;</span>\n    <div>\n      <strong>Credentials Verified!</strong><br>Welcome back! You’ve successfully logged in.\n    </div>\n  </div>\n  <div class=\"card\">\n    <div class=\"profile-header\">\n      <img [src]=\"profile?.profilePhoto || 'assets/kamal.jpg'\" \n           alt=\"Profile Photo\" \n           class=\"profile-photo\">\n      <h2>{{ profile?.name }}</h2>\n    </div>\n\n    <div class=\"profile-info\">\n      <div class=\"info-item\">\n        <span class=\"label\">Email:</span>\n        <span class=\"value\">{{ profile?.email }}</span>\n      </div>\n      <div class=\"info-item\">\n        <span class=\"label\">Mobile:</span>\n        <span class=\"value\">{{ profile?.mobile }}</span>\n      </div>\n    </div>\n\n    <div class=\"profile-actions\">\n  <button class=\"btn btn-primary edit-btn\" routerLink=\"/profile/edit\">Edit Profile</button>\n  <button class=\"btn btn-primary logout-btn\" (click)=\"logout()\">Logout</button>\n</div>\n  </div>\n</div>\n"],"mappings":"AAIA,SAASA,WAAW,QAAQ,mCAAmC;;;;;AAO/D,OAAM,MAAOC,oBAAoB;EAK/BC,YAAoBC,WAAwB,EAAUC,WAAwB,EAAUC,MAAc;IAAlF,KAAAF,WAAW,GAAXA,WAAW;IAAuB,KAAAC,WAAW,GAAXA,WAAW;IAAuB,KAAAC,MAAM,GAANA,MAAM;IAH9F,KAAAC,OAAO,GAAG,IAAI;IACd,KAAAC,KAAK,GAAG,EAAE;EAE+F;EAEzGC,QAAQA,CAAA;IACN,IAAI,CAACC,WAAW,EAAE;EACpB;EAEAC,MAAMA,CAAA;IACJ,IAAI,CAACN,WAAW,CAACM,MAAM,EAAE;IACzB,IAAI,CAACL,MAAM,CAACM,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;EAClC;EAEAF,WAAWA,CAAA;IACT,IAAI,CAACN,WAAW,CAACS,UAAU,EAAE,CAC1BC,SAAS,CACPC,QAAQ,IAAI;MACX;MACA,IAAIA,QAAQ,CAACC,IAAI,IAAID,QAAQ,CAACC,IAAI,CAACC,YAAY,EAAE;QAC/C,IAAIF,QAAQ,CAACC,IAAI,CAACC,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC,EAAE;UACrD;UACA,MAAMC,UAAU,GAAGlB,WAAW,CAACmB,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;UAC3DN,QAAQ,CAACC,IAAI,CAACC,YAAY,GAAGE,UAAU,GAAGJ,QAAQ,CAACC,IAAI,CAACC,YAAY;;QAEtE;;;MAEF,IAAI,CAACK,OAAO,GAAGP,QAAQ,CAACC,IAAI;MAC5BO,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAACF,OAAO,CAAC;MAC5C,IAAI,CAACf,OAAO,GAAG,KAAK;IACtB,CAAC,EACAC,KAAK,IAAI;MACR,IAAI,CAACA,KAAK,GAAGA,KAAK,CAACiB,OAAO;MAC1B,IAAI,CAAClB,OAAO,GAAG,KAAK;IACtB,CAAC,CACF;EACL;;;uBAtCWL,oBAAoB,EAAAwB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,WAAA,GAAAL,EAAA,CAAAC,iBAAA,CAAAK,EAAA,CAAAC,MAAA;IAAA;EAAA;;;YAApB/B,oBAAoB;MAAAgC,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,8BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCXjCd,EAAA,CAAAgB,cAAA,aAAuB;UACKhB,EAAA,CAAAiB,MAAA,cAAO;UAAAjB,EAAA,CAAAkB,YAAA,EAAK;UACtClB,EAAA,CAAAgB,cAAA,aAA0F;UAC3ChB,EAAA,CAAAiB,MAAA,aAAQ;UAAAjB,EAAA,CAAAkB,YAAA,EAAO;UAC5DlB,EAAA,CAAAgB,cAAA,UAAK;UACKhB,EAAA,CAAAiB,MAAA,4BAAqB;UAAAjB,EAAA,CAAAkB,YAAA,EAAS;UAAAlB,EAAA,CAAAmB,SAAA,SAAI;UAAAnB,EAAA,CAAAiB,MAAA,0DAC5C;UAAAjB,EAAA,CAAAkB,YAAA,EAAM;UAERlB,EAAA,CAAAgB,cAAA,cAAkB;UAEdhB,EAAA,CAAAmB,SAAA,cAE2B;UAC3BnB,EAAA,CAAAgB,cAAA,UAAI;UAAAhB,EAAA,CAAAiB,MAAA,IAAmB;UAAAjB,EAAA,CAAAkB,YAAA,EAAK;UAG9BlB,EAAA,CAAAgB,cAAA,cAA0B;UAEFhB,EAAA,CAAAiB,MAAA,cAAM;UAAAjB,EAAA,CAAAkB,YAAA,EAAO;UACjClB,EAAA,CAAAgB,cAAA,gBAAoB;UAAAhB,EAAA,CAAAiB,MAAA,IAAoB;UAAAjB,EAAA,CAAAkB,YAAA,EAAO;UAEjDlB,EAAA,CAAAgB,cAAA,cAAuB;UACDhB,EAAA,CAAAiB,MAAA,eAAO;UAAAjB,EAAA,CAAAkB,YAAA,EAAO;UAClClB,EAAA,CAAAgB,cAAA,gBAAoB;UAAAhB,EAAA,CAAAiB,MAAA,IAAqB;UAAAjB,EAAA,CAAAkB,YAAA,EAAO;UAIpDlB,EAAA,CAAAgB,cAAA,eAA6B;UACqChB,EAAA,CAAAiB,MAAA,oBAAY;UAAAjB,EAAA,CAAAkB,YAAA,EAAS;UACzFlB,EAAA,CAAAgB,cAAA,kBAA8D;UAAnBhB,EAAA,CAAAoB,UAAA,mBAAAC,uDAAA;YAAA,OAASN,GAAA,CAAA9B,MAAA,EAAQ;UAAA,EAAC;UAACe,EAAA,CAAAiB,MAAA,cAAM;UAAAjB,EAAA,CAAAkB,YAAA,EAAS;;;UAnBpElB,EAAA,CAAAsB,SAAA,IAAmD;UAAnDtB,EAAA,CAAAuB,UAAA,SAAAR,GAAA,CAAAnB,OAAA,kBAAAmB,GAAA,CAAAnB,OAAA,CAAAL,YAAA,yBAAAS,EAAA,CAAAwB,aAAA,CAAmD;UAGpDxB,EAAA,CAAAsB,SAAA,GAAmB;UAAnBtB,EAAA,CAAAyB,iBAAA,CAAAV,GAAA,CAAAnB,OAAA,kBAAAmB,GAAA,CAAAnB,OAAA,CAAA8B,IAAA,CAAmB;UAMD1B,EAAA,CAAAsB,SAAA,GAAoB;UAApBtB,EAAA,CAAAyB,iBAAA,CAAAV,GAAA,CAAAnB,OAAA,kBAAAmB,GAAA,CAAAnB,OAAA,CAAA+B,KAAA,CAAoB;UAIpB3B,EAAA,CAAAsB,SAAA,GAAqB;UAArBtB,EAAA,CAAAyB,iBAAA,CAAAV,GAAA,CAAAnB,OAAA,kBAAAmB,GAAA,CAAAnB,OAAA,CAAAgC,MAAA,CAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}